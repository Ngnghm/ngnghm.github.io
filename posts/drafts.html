<!DOCTYPE html>
<html lang="en">
  <head>

    <meta charset="utf-8">
    <title>XXXXXXXXXXXXXXXXXX NOT EVEN A DRAFT BELOW HERE XXXXXXXXXXXXXXXXXX</title>
    <meta name="description" content="XXXXXXXXXXXXXXXXXX NOT EVEN A DRAFT BELOW HERE XXXXXXXXXXXXXXXXXX: Title: Kitchen Sink  Date: 2015-08-03T00:00:00  Tags: DRAFT  Chapter 2: Save Our Souls. Persistence, Automated. Orthogonal Persistence. Fractal Transience. # Purer Systems Following our di...">
    <meta name="author"      content="Ngnghm">
    <meta name="keywords"    content="">
    <meta name="viewport"    content="width=device-width, initial-scale=1.0">
    <link rel="icon"      href="/favicon.ico">
    <link rel="canonical" href="http://ngnghm.github.io/posts/drafts.html">


    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="/css/pygments.css">
    <link rel="stylesheet" type="text/css" href="/css/scribble.css">
    <link rel="stylesheet" type="text/css" href="/css/custom.css">
    <!-- Feeds -->
    <link ref="alternate" type="application/atom+xml"
          href="/feeds/all.atom.xml" title="Atom Feed">
    <link ref="alternate" type="application/rss+xml"
          href="/feeds/all.rss.xml" title="RSS Feed">
    <!-- JS -->
    <script type="text/javascript">
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-xxxxx', 'auto');
      ga('send', 'pageview');
    </script>
  </head>
  <body>
    <!-- A standard Twitter Bootstrap nav bar -->
    <header class="navbar navbar-default navbar-inverse"
            role="banner">
      <div class="container">
        <div class="navbar-header">
          <button type="button"
                  class="navbar-toggle"
                  data-toggle="collapse"
                  data-target=".our-nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a href="/index.html" class="navbar-brand">Houyhnhnm Computing</a>
        </div>
        <div class="collapse navbar-collapse our-nav-collapse"
             role="navigation">
          <ul class="nav navbar-nav">

            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                Tags <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="/index.html">All Posts</a></li>

<li><a href="/tags/automation.html">automation</a></li>

<li><a href="/tags/domains.html">domains</a></li>

<li><a href="/tags/introduction.html">introduction</a></li>

<li><a href="/tags/orthogonal-persistence.html">orthogonal persistence</a></li>

<li><a href="/tags/persistence.html">persistence</a></li>

<li><a href="/tags/point-of-view.html">point of view</a></li>

<li><a href="/tags/simplicity.html">simplicity</a></li>
              </ul>
            </li>
            <li>
              <a href="/About.html">About</a>
            </li> 
            <li><a href="/feeds/all.atom.xml">Atom</a></li>
            <li><a href="/feeds/all.rss.xml">RSS</a></li>
          </ul>
        </div>
      </div>
    </header>
    <div class="container">
      <div class="row">

        <!-- Main column -->
        <div id="content" class="col-md-12">






<h1 id="xxxxxxxxxxxxxxxxxx-not-even-a-draft-below-here-xxxxxxxxxxxxxxxxxx">XXXXXXXXXXXXXXXXXX NOT EVEN A DRAFT BELOW HERE XXXXXXXXXXXXXXXXXX</h1>

<p>Title: Kitchen Sink  Date: 2015&ndash;08&ndash;03T00:00:00  Tags: DRAFT</p>
<!--

Chapter 2: Save Our Souls.
Persistence, Automated. Orthogonal Persistence. Fractal Transience.



# Purer Systems

Following our discussion on Persistence,
Ngnghm had plenty of questions about how Human computer systems are designed, and how they hold together,
when they can't get basic persistence right.
But I had even more questions about what the user interface was like for Houyhnhnm computing systems
when all data persisted.
Some answers were obvious: Houyhnhnm computing systems had infinite-depth undo for free,
without any special effort from the developer, and without any limitation for the user
— as opposed to Human systems, where implementing crippled versions of limited undo functionality
were a major headache for application developers,
whereas being limited to using them was another headache to use for end-users.


Some answers I couldn't figure out by myself, such as what it might mean
to travel back in time then forward again,
when other parts of the system by necessity were going simply forward,
including the logging of what happened to the parts that were travelling in time.


CRDTs.





Ngnghm was interested in understanding how Human computer systems were or weren't implementing computing domains.
I was more interested in understanding how users of Houyhnhnm computing systems were dealing with a system that never forgot anything.



# Towers and Stacks

### Many sizes fit all



having software run in multiple domains:
though Humans had several times invented "virtualization" which they were using heroic techniques
to implement in an awkward way that seemed to make people's life overall more miserable rather than less.

"Full stack" developers: yet



Human computer systems have an inordinate amount of mutually incompatible “libraries”
meant to deal with “file formats”, “serialization protocols”, “marshalling”, “markup languages”,
“interchange formats”, “memory layout”, “database schema”, “database servers”,
“query languages”, “object relational mapping”, “foreign function interface”, etc.
In each of these categories, the offering consists in plenty of software projects,
all of them mutually incompatible and somewhat fragile.


each and every piece of data will remain forever accessible using whichever algebraic data type you used at the level of abstraction you considered appropriate. For instance, you can declare explicitly opt some computations out of your default backup policies, with less frequent snapshots that aren’t replicated as thoroughly or with as strong distributed consistency requirements as are usual.



### Adding turtles below

Hence, Houyhnhnms don’t have any library to manage persistence. Instead, Houyhnhnms have a number of libraries to manage transience.

Not only does that make Houyhnhnm systems much simpler, it also guarantees forever interoperability of every single piece data with any future system, at whichever level of abstraction that data was defined. If you want your data to remain relevant to your future self, or to be usable by other people, etc., you still need to wisely choose suitable algebraic data types, to organize software into components with clean interfaces, to pick appropriate policies that lead to suitably performant implementations, to rely on suitable libraries.

Ngnghm hadn’t noticed at first this essential transience of all data in Human computer systems. Any and all of Human data may disappear at any time without notice. To prevent or mitigate this loss, Humans have to explicitly take extraordinary steps to save all kinds of data, regularly, with rigorous discipline. Each bit of data requires its own special steps to save and sometimes much harder to restore—if by a combination of bad luck yet good preparation some Humans lost their data but possessed some form of a backup. And that there exists no imaginable mechanism to restore data in a coherent way across several software or hardware components, making the restoration of a simple terminal user’s computer a hard task, and that of an actual live service a heroic feat.

Moreover, all data was bound to disappear eventually. Not only hardware, but also software, was often expected to be used until it failed, with no regular plan to transfer data to a replacement system until it had at least started to fail. Human applications are written in an extremely fragile way, where persistence and correctness are considered “non-functional” requirements and are dealt with as an afterthought. Therefore, it is expected that applications will crash, have a race condition with other applications, experience plain old bugs, or be subject to vulnerabilities, at which point users will irremediably lose configuration or session data, documents written or data entered. (Interestingly, while it is all too easy for data you care about to be deleted, yet it is very hard to make sure that some data you want forgotten is ever completely deleted.)





There is undo, but usually for a single operation or small number of operations during a single session; some applications maintain history, but it is optimized for data mining by spies, and useless to recover a usable session by users.

Humans have large and complex libraries to fake persistence on top of essential transience at every level. Houyhnhnms consider persistence a basic system property at every level, and have relatively simple libraries to escape into transience where performance or fine-grained semantics (or system bootstrap) calls for it. Humans have many devices that they connect into networks, where bits are copied. Houyhnhnms have a single system that they subdivide into domains, between which data is distributed (more like [Urbit](http://moronlab.blogspot.com/2010/01/urbit-functional-programming-from.html)).


Nothing in the world can take the place of persistence. Talent will not; nothing is more common than unsuccessful men with talent. Genius will not; unrewarded genius is almost a proverb. Education will not; the world is full of educated derelicts. Persistence and determination alone are omnipotent. The slogan 'Press On' has solved and always will solve the problems of the human race. — Calvin Coolidge

Sentient, Sapient, Sophont
Computer interface




Things we’d like to do but can’t


point of view
Orthogonal persistence… by default.
Infinite undo… by default.
Easy process migration, for everything.
Everything can be debugged
Delivering software as components, not applications (closest: browser plugins)
What others have done since

Low-Level Language
LLVM

Safe programming
ATS http://www.ats-lang.org/ has dependent and linear types
Idris, Agda: dependent types
Adam Chlipala

Safe Operating System
Coq: Adam Chlipala
Sing# (Spec#): Singularity
SPIN / Promela http://spinroot.com/spin/whatispin.html
Lisp: Symbolics Genera, TI Explorer
SML: Fox, ML/OS
OCaml: OpenMirage
Haskell: hOp, House, H, Kinetic, HLVM http://stackoverflow.com/questions/6638080/is-there-os-written-in-haskell
seL4


High-level language for system programming
ATS http://www.ats-lang.org/ has dependent and linear types
Rust http://www.rust-lang.org/ have linear types

Discussion groups for programming language design
LtU http://lambda-the-ultimate.org/
fonc@VPRI http://vpri.org/mailman/listinfo/fonc

Multi-language platforms
Racket
JVM
.NET

Orthogonal persistence
Eumel.
Most applications now know to save preferences without explicitly clicking save, and keep a recoverable backup of the file being edited even without explicit saving. But it’s expensively done by the programmer just for a few specific settings and data items.
“NoSQL” databases. And SQL back on top of them.

Reversible computing
Lenses
Benjamin Pierce’s Bidirectional Programming
Omniscient Debugging (ODB, elm-lang)

Metaprogramming
Most serious languages now provide some means to metaprogram
C++ has templates
Even Haskell has quasiquotations http://scrambledeggsontoast.github.io/2014/09/28/needle-announce/

Whole-system management
some progress in this direction: virtualization, systemd, NixOS, DisNix


Differential Programming
Huet’s zippers http://en.wikipedia.org/wiki/Zipper_%28data_structure%29
http://www.informatik.uni-marburg.de/~pgiarrusso/ILC/
http://www.umut-acar.org/self-adjusting-computation


Crucial things that no one is working on

First-class implementation.
Schema upgrade in an interactive system.
Types for code+data change.
A programming language that can handle both high-level and low-level aspects. Yet, see

Appendices / Draft

Fools ignore complexity; pragmatists suffer it; experts avoid it; geniuses remove it. — Alan Perlis

Bibliography

Better Stories, Better Languages http://fare.tunes.org/computing/bal2009.pdf
http://www.willamette.edu/~fruehr/haskell/evolution.html
http://homes.cs.washington.edu/~emina/
http://okmij.org/ftp/
http://www.ugcs.caltech.edu/~weel/lispm/genera-concepts.pdf



http://snapl.org/2015/cfp.html-->
        </div>
      </div>
      <footer>
        <hr />
        <p><a href="https://twitter.com/Ngnghm"
              class="twitter-follow-button"
              data-show-count="false"
              data-lang="en">
             "Follow ngnghm"
           </a>
           <script type="text/javascript">
             !function(d,s,id){
                 var js,fjs=d.getElementsByTagName(s)[0];
                 if(!d.getElementById(id)){
                     js=d.createElement(s);
                     js.id=id;
                     js.src="//platform.twitter.com/widgets.js";
                     fjs.parentNode.insertBefore(js,fjs);
                 }
             }(document,"script","twitter-wjs");
           </script></p>
        <p>Site created with
          <a href="http://www.racket-lang.org">Racket</a>,
          <a href="http://github.com/greghendershott/frog">Frog</a>,
          <a href="http://www.gnu.org/software/emacs/">Emacs</a>, and
          <a href="http://twitter.github.io/bootstrap">Bootstrap</a></p>
        <p><em>Copyright &copy; Houyhnhnm Computing</em>.</p>
      </footer>
    </div>
    <!-- </body> JS -->
    <script type="text/javascript" src="//code.jquery.com/jquery.min.js"></script>
    <script type="text/javascript" src="/js/bootstrap.min.js"></script>
  </body>
</html>